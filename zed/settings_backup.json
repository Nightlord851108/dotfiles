// Zed settings
//
// For information on how to configure Zed, see the Zed
// documentation: https://zed.dev/docs/configuring-zed
//
// To see all of Zed's default settings without changing your
// custom settings, run the `open default settings` command
// from the command palette or from `Zed` application menu.
{
  "context_servers": {
    "mcp-server-mui": {
      "source": "extension",
      "enabled": true,
      "settings": {
        "preferred_theme": "",
        "component_filter": [
          ""
        ]
      }
    },
    "mcp-server-github": {
      "source": "extension",
      "enabled": true,
      "settings": {
        "github_personal_access_token": "GITHUB_PERSONAL_ACCESS_TOKEN"
      }
    },
    "postgres-context-server": {
      "source": "extension",
      "enabled": true,
      "settings": {
        "database_url": "postgresql://postgres:root@localhost:5432/board"
      }
    },
    "mcp-miro": {
      "enabled": false,
      "source": "custom",
      "command": "mcp-miro",
      "args": [
        "--token",
        "eyJtaXJvLm9yaWdpbiI6ImV1MDEifQ__g0vVJ9GiJNZomXJUCIZcBXCjFQ"
      ]
    }
    // "mcp-ezddd": {
    //   "source": "custom",
    //   "command": "node",
    //   "args": [
    //     "/Users/patrick/Github/ezkanban/ezddd/ezddd-mcp/dist/index.js"
    //   ]
    // }
  },
  "edit_predictions": {
    "mode": "subtle",
    "copilot": {
      "proxy": null,
      "proxy_no_verify": null,
      "enterprise_uri": null
    },
    "enabled_in_text_threads": false
  },
  "theme": "Moonlight",
  "icon_theme": "Material Icon Theme",
  "agent": {
    "single_file_review": false,
    "default_profile": "write",
    "always_allow_tool_actions": true,
    "default_model": {
      "provider": "copilot_chat",
      "model": "gpt-5"
    },
  },
  "languages": {
    "JSONC": {
      "show_edit_predictions": false,
      "tab_size": 2
    },
    "JSON": {
      "tab_size": 2
    },
    "LaTeX": {
      "show_edit_predictions": false
    },
    "Markdown": {
      "show_edit_predictions": false,
      "tab_size": 2
    },
    "Rainbow CSV": {
      "show_edit_predictions": false
    },
    "JavaScript": {
      // "code_actions_on_format": {
      //   "source.fixAll.eslint": true
      // }
      "format_on_save": "off"
    },
    "TypeScript": {
      "format_on_save": "off"
    },
    "Java": {
      "code_actions_on_format": {
        "source.organizeImports": true
      }
    }
  },
  "base_keymap": "Atom",
  "vim_mode": true,
  "vim": {
    "toggle_relative_line_numbers": true
  },
  "telemetry": {
    "diagnostics": true,
    "metrics": true
  },
  "tab_size": 4,
  "ui_font_size": 22,
  "agent_font_size": 24,
  "buffer_font_family": "LXGW WenKai Mono TC",
  "buffer_font_size": 26,
  "buffer_line_height": {
    "custom": 1.7
  },
  "buffer_font_features": {
    "calt": false
  },
  "active_pane_magnification": 1.0,
  "centered_layout": {
    // The relative width of the left padding of the central pane from the
    // workspace when the centered layout is used.
    "left_padding": 0.5,
    // The relative width of the right padding of the central pane from the
    // workspace when the centered layout is used.
    "right_padding": 0.5
  },
  "multi_cursor_modifier": "cmd",
  "scrollbar": {
    "show": "system"
  },
  // "formatter": {
  //   "code_actions": {
  //     // Use ESLint's --fix:
  //     "source.fixAll.eslint": true,
  //     // Organize imports on save:
  //     "source.organizeImports": true
  //   }
  // },
  "formatter": "language_server",
  "lsp": {
    "typos": {
      "initialization_options": {
        // Path to your typos config file, .typos.toml by default.
        "config": ".typos.toml",
        // Path to your typos-lsp executable, takes $PATH into account.
        "path": "typos-lsp",
        // Diagnostic severity within Zed. "Error" by default, can be:
        // "Error", "Hint", "Information", "Warning"
        "diagnosticSeverity": "Warning",
        // Minimum logging level for the LSP, displayed in Zed's logs. "info" by default, can be:
        // "debug", "error", "info", "off", "trace", "warn"
        "logLevel": "info",
        // Traces the communication between ZED and the language server. Recommended for debugging only. "off" by default, can be:
        // "messages", "off", "verbose"
        "trace.server": "off"
      }
    },
    "texlab": {
      "settings": {
        "texlab": {
          "build": {
            "onSave": true,
            "pdfDirectory": "build",
            "forwardSearchAfter": true,
            "executable": "latexmk",
            "args": [
              "-synctex=1",
              "-interaction=nonstopmode",
              "-file-line-error",
              "-pdf",
              "-outdir=build",
              "%f"
            ]
            // "executable": "tectonic",
            // "args": [
            //     "-X",
            //     "compile",
            //     "%f",
            //     "--untrusted",
            //     "--synctex",
            //     "--keep-logs",
            //     "--keep-intermediates"
            // ]
          },
          "forwardSearch": {
            "executable": "/Applications/Skim.app/Contents/SharedSupport/displayline",
            "args": [
              "-g",
              "-r",
              "%l",
              "%p",
              "%f"
            ]
            // "executable": "zathura",
            // "args": [
            //     "--synctex-forward",
            //     "%l:1:%f",
            //     "-x",
            //     "zed %%{input}:%%{line}",
            //     "%p"
            // ]
          }
        }
      }
    },
    "json-language-server": {
      "settings": {
        "json": {
          "schemas": [
            {
              "fileMatch": [
                "*/*.luarc.json"
              ],
              "url": "https://raw.githubusercontent.com/sumneko/vscode-lua/master/setting/schema.json"
            }
          ]
        }
      }
    }
  },
  "preferred_line_length": 80,
  "wrap_guides": [
    80
  ],
  "show_whitespaces": "selection",
  "soft_wrap": "bounded",
  // "relative_line_numbers": true,
  "project_panel": {
    "auto_fold_dirs": true,
    "default_width": 260,
    "indent_size": 30
  },
  "terminal": {
    "default_height": 640
  },
  "seed_search_query_from_cursor": "selection",
  "auto_install_extensions": {
    "night-owlz": true,
    "git-firefly": true,
    "dockerfile": true,
    "docker-compose": true,
    "sql": true,
    "java": true,
    "java-eclipse-jdtls": true,
    "make": true,
    "log": true,
    "graphql": true,
    "swift": true,
    "latex": true,
    "ltex": true,
    "csv": true,
    "rainbow-csv": true,
    "scala": true,
    "vue": true,
    "dart": true,
    "assembly": true,
    "markdown-oxide": true,
    "r": true,
    "xml": true,
    "ocaml": true,
    "toml": true,
    "scss": true,
    "typos": true,
    "material-dark": true,
    "material-icon-theme": true,
    "moonlight": true
  }
}
